import{j as e,s as X,P as Z,b as ee,c as J,d as te,C as V}from"./index-Co3lyjy0.js";import{e as ae,f as se,r as i,L as re}from"./vendor-react-CaYZq_vZ.js";import{g as z}from"./hijriConverter-BcSz4ynw.js";import{C as ne}from"./CalendarModal-hWLisUvb.js";import{L as K,E as le}from"./ErrorState-DCEne8_7.js";import{u as L}from"./vendor-i18n-BjjXjqrR.js";const H="https://api.myquran.com/v2";async function ie(){try{const a=await(await fetch(`${H}/sholat/kota/semua`)).json();return(a==null?void 0:a.data)||[]}catch(t){return console.error("getAllCities error:",t),[]}}async function oe(t,a){var c;try{const d=a.getFullYear(),l=String(a.getMonth()+1).padStart(2,"0"),p=String(a.getDate()).padStart(2,"0"),m=`${H}/sholat/jadwal/${t}/${d}/${l}/${p}`,n=await(await fetch(m)).json();return(c=n==null?void 0:n.data)!=null&&c.jadwal?{jadwal:n.data.jadwal,lokasi:n.data.lokasi||"",daerah:n.data.daerah||""}:{jadwal:null,lokasi:"",daerah:""}}catch(d){return console.error("getDailyPrayerTimes error:",d),{jadwal:null,lokasi:"",daerah:""}}}async function ce(t,a,c){var d;try{const l=String(c).padStart(2,"0"),p=`${H}/sholat/jadwal/${t}/${a}/${l}`,o=await(await fetch(p)).json();return(d=o==null?void 0:o.data)!=null&&d.jadwal?{jadwal:Array.isArray(o.data.jadwal)?o.data.jadwal:[o.data.jadwal],lokasi:o.data.lokasi||"",daerah:o.data.daerah||""}:{jadwal:[],lokasi:"",daerah:""}}catch(l){return console.error("getMonthlyPrayerTimes error:",l),{jadwal:[],lokasi:"",daerah:""}}}const q="https://api.aladhan.com/v1";async function de(t,a,c=3,d){try{let l=d;if(!l){const n=new Date;l=`${n.getDate()}-${n.getMonth()+1}-${n.getFullYear()}`}const p=`${q}/timingsByCity/${l}?city=${encodeURIComponent(t)}&country=${encodeURIComponent(a)}&method=${c}`,o=await(await fetch(p)).json();return o.code===200&&o.data?{data:o.data,error:null}:{data:null,error:o.status||"Failed to fetch"}}catch(l){return console.error("getInternationalPrayerTimes error:",l),{data:null,error:String(l)}}}async function me(t,a,c,d,l=3){try{const p=`${q}/calendarByCity/${c}/${d}?city=${encodeURIComponent(t)}&country=${encodeURIComponent(a)}&method=${l}`,o=await(await fetch(p)).json();return o.code===200&&o.data?{data:o.data,error:null}:{data:[],error:o.status||"Failed to fetch"}}catch(p){return console.error("getInternationalMonthlyTimes error:",p),{data:[],error:String(p)}}}function B(t){var a,c,d,l,p,m,o,n,k,g;return{imsak:((a=t.timings.Imsak)==null?void 0:a.split(" ")[0])||"--:--",subuh:((c=t.timings.Fajr)==null?void 0:c.split(" ")[0])||"--:--",terbit:((d=t.timings.Sunrise)==null?void 0:d.split(" ")[0])||"--:--",dhuha:xe(t.timings.Sunrise),dzuhur:((l=t.timings.Dhuhr)==null?void 0:l.split(" ")[0])||"--:--",ashar:((p=t.timings.Asr)==null?void 0:p.split(" ")[0])||"--:--",maghrib:((m=t.timings.Maghrib)==null?void 0:m.split(" ")[0])||"--:--",isya:((o=t.timings.Isha)==null?void 0:o.split(" ")[0])||"--:--",date:(k=(n=t.date)==null?void 0:n.gregorian)==null?void 0:k.date,tanggal:(g=t.date)==null?void 0:g.readable}}function xe(t){if(!t)return"--:--";const a=t.split(" ")[0],[c,d]=a.split(":").map(Number),l=c*60+d+15,p=Math.floor(l/60),m=l%60;return`${String(p).padStart(2,"0")}:${String(m).padStart(2,"0")}`}const he=["sunday","monday","tuesday","wednesday","thursday","friday","saturday"],ue=["january","february","march","april","may","june","july","august","september","october","november","december"];function Se(){const t=ae(),a=!!t.cityId,c=!!t.country&&!!t.city;return!a&&!c?e.jsx(pe,{}):a?e.jsx(ye,{cityId:t.cityId}):c?e.jsx(ge,{country:decodeURIComponent(t.country),city:decodeURIComponent(t.city)}):null}function pe(){const{t}=L(),a=se(),[c,d]=i.useState("indonesia"),[l,p]=i.useState([]),[m,o]=i.useState(!0),[n,k]=i.useState(""),[g,x]=i.useState(""),[b,S]=i.useState([]);i.useEffect(()=>{(async()=>{o(!0);const h=await ie();p(h.sort((N,D)=>N.lokasi.localeCompare(D.lokasi))),o(!1)})()},[]),i.useEffect(()=>{if(g.length>=2){const r=X(g);S(r)}else S([])},[g]);const f=n.length>=2?l.filter(r=>r.lokasi.toLowerCase().includes(n.toLowerCase())).slice(0,20):[],C=(r,h)=>{localStorage.setItem("prayerCity",JSON.stringify({id:r,name:h})),a(`/prayer/${r}`)},$=(r,h,N)=>{localStorage.setItem("prayerIntlCity",JSON.stringify({city:r,country:h,countryCode:N})),a(`/prayer/international/${encodeURIComponent(h)}/${encodeURIComponent(r)}`)};return e.jsx("main",{className:"flex-1 flex justify-center py-6 md:py-10 px-4 md:px-10 lg:px-40",children:e.jsxs("div",{className:"flex flex-col max-w-[1024px] flex-1 gap-8",children:[e.jsxs("div",{className:"text-center",children:[e.jsx("h1",{className:"text-3xl md:text-4xl font-black tracking-tight mb-2",children:t("prayer.home.title")}),e.jsx("p",{className:"text-text-secondary",children:t("prayer.home.subtitle")})]}),e.jsxs("div",{className:"flex gap-2 bg-surface-dark p-1 rounded-xl",children:[e.jsxs("button",{onClick:()=>d("indonesia"),className:`flex-1 py-3 px-4 rounded-lg font-medium transition-all flex items-center justify-center gap-2 ${c==="indonesia"?"bg-primary text-black":"text-text-secondary hover:text-white"}`,children:[e.jsx("span",{className:"material-symbols-outlined text-[20px]",children:"flag"}),t("prayer.home.tabs.indonesia")]}),e.jsxs("button",{onClick:()=>d("international"),className:`flex-1 py-3 px-4 rounded-lg font-medium transition-all flex items-center justify-center gap-2 ${c==="international"?"bg-primary text-black":"text-text-secondary hover:text-white"}`,children:[e.jsx("span",{className:"material-symbols-outlined text-[20px]",children:"public"}),t("prayer.home.tabs.international")]})]}),c==="indonesia"?e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"surface-card p-6",children:e.jsx("label",{className:"flex flex-col",children:e.jsxs("div",{className:"flex w-full items-stretch rounded-lg h-12 bg-gray-100 dark:bg-border-dark",children:[e.jsx("div",{className:"flex items-center justify-center pl-4 text-gray-500 dark:text-text-secondary",children:e.jsx("span",{className:"material-symbols-outlined",children:"search"})}),e.jsx("input",{className:"flex w-full flex-1 resize-none overflow-hidden rounded-lg rounded-l-none border-none bg-transparent text-gray-800 dark:text-white focus:outline-none h-full placeholder:text-gray-400 dark:placeholder:text-text-secondary px-4 pl-2 text-sm",placeholder:t("prayer.home.searchPlaceholderIndonesia"),value:n,onChange:r=>k(r.target.value)})]})})}),m?e.jsx(K,{}):e.jsxs(e.Fragment,{children:[n.length>=2&&e.jsxs("div",{className:"surface-card p-6",children:[e.jsx("h3",{className:"text-lg font-bold mb-4",children:t("prayer.home.searchResults",{count:f.length})}),f.length>0?e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3",children:f.map(r=>e.jsxs("button",{onClick:()=>C(r.id,r.lokasi),className:"flex items-center gap-3 p-4 rounded-xl bg-surface-dark-2 border border-border-dark hover:border-primary transition-colors text-left",children:[e.jsx("span",{className:"material-symbols-outlined text-primary",children:"location_on"}),e.jsxs("div",{children:[e.jsx("p",{className:"font-medium",children:r.lokasi}),e.jsx("p",{className:"text-xs text-text-secondary",children:"Indonesia"})]})]},r.id))}):e.jsx("p",{className:"text-text-secondary text-center py-8",children:t("prayer.home.notFound")})]}),!n&&e.jsxs("div",{className:"surface-card p-6",children:[e.jsxs("h3",{className:"text-lg font-bold mb-4 flex items-center gap-2",children:[e.jsx("span",{className:"material-symbols-outlined text-primary",children:"star"}),t("prayer.home.pinnedCities")]}),e.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-3",children:Z.map(r=>e.jsxs("button",{onClick:()=>C(r.id,r.name),className:"flex items-center gap-3 p-4 rounded-xl bg-primary/10 border border-primary/20 hover:bg-primary/20 transition-colors text-left",children:[e.jsx("span",{className:"material-symbols-outlined text-primary",children:"location_on"}),e.jsxs("div",{children:[e.jsx("p",{className:"font-semibold text-sm leading-tight",children:r.name}),e.jsx("p",{className:"text-xs text-text-secondary",children:"Indonesia"})]})]},r.id))})]}),!n&&e.jsxs("div",{className:"surface-card p-6",children:[e.jsx("h3",{className:"text-lg font-bold mb-4",children:t("prayer.home.allCities",{count:l.length})}),e.jsx("div",{className:"grid grid-cols-2 gap-2 max-h-80 overflow-y-auto",children:l.map(r=>e.jsx("button",{onClick:()=>C(r.id,r.lokasi),className:"p-3 text-left rounded-lg bg-surface-dark-2 border border-border-dark text-xs md:text-sm hover:border-primary transition-colors leading-tight",children:r.lokasi},r.id))})]})]}),e.jsx("div",{className:"surface-card p-6",children:e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx("span",{className:"material-symbols-outlined text-primary",children:"info"}),e.jsxs("div",{children:[e.jsx("h4",{className:"font-semibold mb-2",children:t("prayer.home.info.title")}),e.jsxs("ul",{className:"text-text-secondary space-y-1 text-sm",children:[e.jsxs("li",{children:["• ",t("prayer.home.info.indonesia.source")]}),e.jsxs("li",{children:["• ",t("prayer.home.info.indonesia.available")]}),e.jsxs("li",{children:["• ",t("prayer.home.info.indonesia.method")]})]})]})]})})]}):e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"surface-card p-6",children:[e.jsx("label",{className:"flex flex-col",children:e.jsxs("div",{className:"flex w-full items-stretch rounded-lg h-12 bg-gray-100 dark:bg-border-dark",children:[e.jsx("div",{className:"flex items-center justify-center pl-4 text-gray-500 dark:text-text-secondary",children:e.jsx("span",{className:"material-symbols-outlined",children:"search"})}),e.jsx("input",{className:"flex w-full flex-1 resize-none overflow-hidden rounded-lg rounded-l-none border-none bg-transparent text-gray-800 dark:text-white focus:outline-none h-full placeholder:text-gray-400 dark:placeholder:text-text-secondary px-4 pl-2 text-sm",placeholder:t("prayer.home.searchPlaceholderInternational"),value:g,onChange:r=>x(r.target.value)})]})}),e.jsx("p",{className:"text-xs text-text-secondary mt-2",children:t("prayer.home.searchHintInternational")})]}),g.length>=2&&e.jsxs("div",{className:"surface-card p-6",children:[e.jsx("h3",{className:"text-lg font-bold mb-4",children:t("prayer.home.searchResults",{count:b.length})}),b.length>0?e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3 max-h-96 overflow-y-auto",children:b.map((r,h)=>e.jsxs("button",{onClick:()=>$(r.city,r.country,r.countryCode),className:"flex items-center gap-3 p-4 rounded-xl bg-surface-dark-2 border border-border-dark hover:border-primary transition-colors text-left",children:[e.jsx("span",{className:"material-symbols-outlined text-primary",children:"location_on"}),e.jsxs("div",{children:[e.jsx("p",{className:"font-medium",children:r.city}),e.jsx("p",{className:"text-xs text-text-secondary",children:r.country})]})]},`${r.country}-${r.city}-${h}`))}):e.jsx("p",{className:"text-text-secondary text-center py-8",children:t("prayer.home.notFound")})]}),!g&&e.jsxs("div",{className:"surface-card p-6",children:[e.jsxs("h3",{className:"text-lg font-bold mb-4 flex items-center gap-2",children:[e.jsx("span",{className:"material-symbols-outlined text-primary",children:"star"}),t("prayer.home.popularCities")]}),e.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-3",children:ee.map((r,h)=>e.jsxs("button",{onClick:()=>$(r.city,r.country,r.countryCode),className:"flex items-center gap-3 p-4 rounded-xl bg-primary/10 border border-primary/20 hover:bg-primary/20 transition-colors text-left",children:[e.jsx("span",{className:"material-symbols-outlined text-primary",children:"location_on"}),e.jsxs("div",{children:[e.jsx("p",{className:"font-semibold text-sm",children:r.city}),e.jsx("p",{className:"text-xs text-text-secondary truncate",children:r.country})]})]},h))})]}),e.jsx("div",{className:"surface-card p-6",children:e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx("span",{className:"material-symbols-outlined text-primary",children:"info"}),e.jsxs("div",{children:[e.jsx("h4",{className:"font-semibold mb-2",children:t("prayer.home.info.title")}),e.jsxs("ul",{className:"text-text-secondary space-y-1 text-sm",children:[e.jsxs("li",{children:["• ",t("prayer.home.info.international.source")]}),e.jsxs("li",{children:["• ",t("prayer.home.info.international.available")]}),e.jsxs("li",{children:["• ",t("prayer.home.info.international.method")]})]})]})]})})]})]})})}function ye({cityId:t}){const{t:a}=L(),[c,d]=i.useState(""),[l,p]=i.useState(new Date),[m,o]=i.useState(null),[n,k]=i.useState([]),[g,x]=i.useState(!0),[b,S]=i.useState(""),[f,C]=i.useState("daily"),[$,r]=i.useState(new Date),[h,N]=i.useState(!1);i.useEffect(()=>{const j=setInterval(()=>r(new Date),1e3);return()=>clearInterval(j)},[]),i.useEffect(()=>{D()},[t,l,f]);const D=async()=>{x(!0),S("");try{if(f==="daily"){const j=await oe(t,l);j.jadwal?(o(j.jadwal),d(j.lokasi)):S("dataNotFound")}else{const j=await ce(t,l.getFullYear(),l.getMonth()+1);j.jadwal.length>0?(k(j.jadwal),d(j.lokasi)):S("monthlyDataNotFound")}}catch{S(a("common.error"))}finally{x(!1)}};return e.jsx(G,{loading:g,error:b,cityName:c,cityImage:J(c,"indonesia"),view:f,setView:C,selectedDate:l,setSelectedDate:p,currentTime:$,prayerTime:m,monthlyData:n,showCalendar:h,setShowCalendar:N,onRetry:D,isInternational:!1})}function ge({country:t,city:a}){const{t:c}=L(),[d,l]=i.useState(!0),[p,m]=i.useState(null),[o,n]=i.useState(null),[k,g]=i.useState([]),[x,b]=i.useState(new Date),S=localStorage.getItem(`prayerMethod_${t}`),[f,C]=i.useState(()=>{if(S)return parseInt(S);const v=localStorage.getItem("prayerIntlCity");if(v)try{const{countryCode:I}=JSON.parse(v);return te(I)}catch{return 3}return 3}),[$,r]=i.useState("daily"),[h,N]=i.useState(new Date),[D,j]=i.useState(!1);i.useEffect(()=>{const v=setInterval(()=>b(new Date),6e4);return()=>clearInterval(v)},[]),i.useEffect(()=>{a&&t&&_()},[a,t,f,h]),i.useEffect(()=>{$==="monthly"&&R()},[$,h,f]);const _=async()=>{l(!0),m(null);const v=h.getDate(),I=h.getMonth()+1,F=h.getFullYear(),{data:P,error:A}=await de(a,t,f,`${v}-${I}-${F}`);if(A||!P){m(A||c("common.error")),l(!1);return}n(B(P)),l(!1)},R=async()=>{const v=h.getFullYear(),I=h.getMonth()+1,{data:F,error:P}=await me(a,t,v,I,f);!P&&F.length>0&&g(F.map(B))},Y=v=>{C(v),localStorage.setItem(`prayerMethod_${t}`,String(v))};return e.jsx(G,{loading:d,error:p||"",cityName:`${a}, ${t}`,cityImage:J(a,"international"),view:$,setView:r,selectedDate:h,setSelectedDate:N,currentTime:x,prayerTime:o,monthlyData:k,showCalendar:D,setShowCalendar:j,onRetry:_,isInternational:!0,calculationMethod:f,onMethodChange:Y})}function G(t){const{t:a}=L(),{loading:c,error:d,cityName:l,cityImage:p,view:m,setView:o,selectedDate:n,setSelectedDate:k,currentTime:g,prayerTime:x,monthlyData:b,showCalendar:S,setShowCalendar:f,onRetry:C,isInternational:$,calculationMethod:r,onMethodChange:h}=t,N=new Date,D=z(n),j=s=>a(`calendar.daysFull.${he[s]}`),_=s=>a(`calendar.monthsFull.${ue[s]}`),R=s=>a(`prayer.times.${s}`),Y=s=>`${j(s.getDay())}, ${String(s.getDate()).padStart(2,"0")} ${_(s.getMonth())} ${s.getFullYear()}`,v=s=>`${String(s.getDate()).padStart(2,"0")}/${String(s.getMonth()+1).padStart(2,"0")}/${s.getFullYear()}`,I=s=>N.getDate()===s&&N.getMonth()===n.getMonth()&&N.getFullYear()===n.getFullYear(),F=s=>new Date(n.getFullYear(),n.getMonth(),s),P=s=>{const u=new Date(n);u.setDate(u.getDate()+s),k(u)},A=s=>{const u=new Date(n);u.setMonth(u.getMonth()+s),k(u)},E=(()=>{if(!x||n.getDate()!==N.getDate()||n.getMonth()!==N.getMonth()||n.getFullYear()!==N.getFullYear())return null;const s=g.getHours()*60+g.getMinutes(),u=[{key:"subuh",time:x.subuh,icon:"dark_mode"},{key:"dzuhur",time:x.dzuhur,icon:"wb_sunny"},{key:"ashar",time:x.ashar,icon:"wb_cloudy"},{key:"maghrib",time:x.maghrib,icon:"wb_twilight"},{key:"isya",time:x.isya,icon:"bedtime"}];for(const w of u){if(!w.time||w.time==="--:--")continue;const[M,T]=w.time.split(":").map(Number);if(M*60+T>s)return{...w,name:R(w.key)}}return{key:"subuh",time:x.subuh,icon:"dark_mode",name:`${R("subuh")} (${a("common.tomorrow")})`}})(),Q=x?[{key:"imsak",time:x.imsak,icon:"wb_twilight",isWajib:!1},{key:"subuh",time:x.subuh,icon:"dark_mode",isWajib:!0},{key:"terbit",time:x.terbit,icon:"wb_sunny",isWajib:!1},{key:"dhuha",time:x.dhuha,icon:"light_mode",isWajib:!1},{key:"dzuhur",time:x.dzuhur,icon:"wb_sunny",isWajib:!0},{key:"ashar",time:x.ashar,icon:"wb_cloudy",isWajib:!0},{key:"maghrib",time:x.maghrib,icon:"wb_twilight",isWajib:!0},{key:"isya",time:x.isya,icon:"bedtime",isWajib:!0}]:[],O=r?V.find(s=>s.id===r):null,W=i.useRef(null),U=i.useRef(null);return i.useEffect(()=>{m==="monthly"&&b.length>0&&!c&&setTimeout(()=>{var s,u;(s=W.current)==null||s.scrollIntoView({behavior:"smooth",block:"center"}),(u=U.current)==null||u.scrollIntoView({behavior:"smooth",block:"center"})},100)},[m,b,c]),e.jsxs("main",{className:"flex-1 flex justify-center py-6 md:py-10 px-4 md:px-10 lg:px-40",children:[e.jsxs("div",{className:"flex flex-col max-w-[1024px] flex-1 gap-8",children:[e.jsxs("section",{className:"flex flex-col gap-6 p-6 md:p-10 rounded-2xl bg-surface-dark border border-border-dark md:flex-row items-center",children:[e.jsxs("div",{className:"w-full md:w-1/2 aspect-video rounded-xl bg-surface-dark-2 relative overflow-hidden",children:[e.jsx("img",{src:p,alt:l,className:"w-full h-full object-cover",loading:"lazy"}),e.jsx("div",{className:"absolute inset-0 bg-black/30"}),e.jsx("div",{className:"absolute bottom-4 left-4 text-white",children:e.jsxs("div",{className:"flex items-center gap-1 text-xs font-medium uppercase tracking-wider bg-black/40 backdrop-blur-sm px-2 py-1 rounded",children:[e.jsx("span",{className:"material-symbols-outlined text-[14px]",children:"location_on"}),e.jsx("span",{children:l||a("common.loading")})]})})]}),e.jsxs("div",{className:"flex flex-col gap-6 w-full md:w-1/2 md:justify-center",children:[c?e.jsx(K,{message:a("prayer.loadingSchedule")}):d?e.jsx(le,{message:a(`common.${d}`)||d,onRetry:C}):E&&e.jsxs("div",{className:"flex flex-col gap-2 text-left",children:[e.jsxs("div",{className:"flex items-center gap-2 text-primary font-medium",children:[e.jsx("span",{className:"material-symbols-outlined animate-pulse",children:"schedule"}),e.jsx("span",{children:a("prayer.nextPrayer")})]}),e.jsx("h1",{className:"text-4xl md:text-5xl font-black leading-tight tracking-tight",children:E.name}),e.jsxs("div",{className:"flex flex-col gap-1",children:[e.jsx("h2",{className:"text-xl md:text-2xl font-medium",children:E.time}),e.jsx("p",{className:"text-text-secondary text-sm md:text-base",children:Y(g)}),e.jsx("p",{className:"text-primary text-sm",children:D.formatted})]})]}),e.jsxs(re,{to:"/prayer",className:"flex items-center gap-2 text-sm text-text-secondary hover:text-primary transition-colors",children:[e.jsx("span",{className:"material-symbols-outlined text-[20px]",children:"swap_horiz"}),e.jsx("span",{children:a("prayer.changeLocation")})]})]})]}),$&&r!==void 0&&h&&e.jsx("div",{className:"surface-card p-4 rounded-xl border border-border-dark",children:e.jsxs("div",{className:"flex flex-col gap-3",children:[e.jsxs("label",{className:"text-sm text-text-secondary",children:[a("prayer.calculationMethod"),":"]}),e.jsx("select",{value:r,onChange:s=>h(parseInt(s.target.value)),className:"w-full bg-surface-dark-2 border border-border-dark rounded-lg px-4 py-3 text-sm focus:outline-none focus:border-primary",children:V.map(s=>e.jsx("option",{value:s.id,children:s.name},s.id))}),O&&e.jsx("p",{className:"text-xs text-text-secondary",children:O.description})]})}),e.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-center gap-4",children:[e.jsxs("div",{className:"flex items-center gap-2 bg-surface-dark px-3 py-2 rounded-lg border border-border-dark",children:[e.jsx("button",{onClick:()=>m==="daily"?P(-1):A(-1),className:"p-1 rounded-full hover:bg-white/10 transition-colors",children:e.jsx("span",{className:"material-symbols-outlined",children:"chevron_left"})}),e.jsxs("button",{onClick:()=>f(!0),className:"text-center min-w-[160px] hover:bg-white/5 px-2 py-1 rounded-lg transition-colors",children:[e.jsx("p",{className:"font-bold text-sm md:text-lg",children:m==="daily"?Y(n):`${_(n.getMonth())} ${n.getFullYear()}`}),e.jsx("p",{className:"text-xs text-text-secondary",children:D.formatted})]}),e.jsx("button",{onClick:()=>m==="daily"?P(1):A(1),className:"p-1 rounded-full hover:bg-white/10 transition-colors",children:e.jsx("span",{className:"material-symbols-outlined",children:"chevron_right"})}),e.jsx("button",{onClick:()=>f(!0),className:"p-1 rounded-full hover:bg-white/10 transition-colors text-primary",title:"Pilih Tanggal",children:e.jsx("span",{className:"material-symbols-outlined",children:"calendar_month"})})]}),e.jsxs("div",{className:"flex h-10 items-center justify-center rounded-lg bg-border-dark p-1",children:[e.jsxs("label",{className:`flex cursor-pointer h-full px-4 items-center justify-center rounded-md text-sm font-medium transition-all ${m==="daily"?"bg-bg-dark text-white shadow-sm":"text-text-secondary"}`,children:[e.jsx("span",{children:a("prayer.view.daily")}),e.jsx("input",{type:"radio",name:"view",value:"daily",checked:m==="daily",onChange:()=>o("daily"),className:"sr-only"})]}),e.jsxs("label",{className:`flex cursor-pointer h-full px-4 items-center justify-center rounded-md text-sm font-medium transition-all ${m==="monthly"?"bg-bg-dark text-white shadow-sm":"text-text-secondary"}`,children:[e.jsx("span",{children:a("prayer.view.monthly")}),e.jsx("input",{type:"radio",name:"view",value:"monthly",checked:m==="monthly",onChange:()=>o("monthly"),className:"sr-only"})]})]})]}),m==="daily"&&!c&&!d&&x&&e.jsx("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:Q.map(s=>{const u=(E==null?void 0:E.key)===s.key;return e.jsxs("div",{className:`flex flex-col gap-2 rounded-xl p-5 bg-surface-dark border relative overflow-hidden ${u?"border-2 border-primary":s.isWajib?"border-border-dark":"border-border-dark/50 opacity-80"}`,children:[u&&e.jsx("div",{className:"absolute top-2 right-2",children:e.jsx("div",{className:"size-2 rounded-full bg-primary animate-pulse-dot"})}),!s.isWajib&&e.jsx("span",{className:"absolute top-2 left-2 text-[10px] px-1.5 py-0.5 bg-border-dark rounded text-text-secondary",children:a("prayer.sunnah")}),e.jsxs("div",{className:`flex justify-between items-center mt-2 ${u?"text-primary":"text-text-secondary"}`,children:[e.jsx("p",{className:`text-sm ${u?"font-bold":"font-medium"}`,children:R(s.key)}),e.jsx("span",{className:"material-symbols-outlined text-[20px]",children:s.icon})]}),e.jsx("p",{className:`tracking-tight text-2xl ${u?"font-black text-primary":"font-bold"}`,children:s.time||"-"})]},s.key)})}),m==="monthly"&&!c&&!d&&b.length>0&&e.jsxs("div",{className:"surface-card overflow-hidden",children:[e.jsxs("div",{className:"bg-primary/10 px-6 py-4 border-b border-border-dark flex items-center justify-between",children:[e.jsxs("h3",{className:"font-bold text-lg",children:[_(n.getMonth())," ",n.getFullYear()]}),e.jsxs("span",{className:"text-sm text-text-secondary",children:[b.length," ",a("prayer.days")]})]}),e.jsx("div",{className:"hidden md:block overflow-x-auto",children:e.jsxs("table",{className:"w-full text-sm",children:[e.jsx("thead",{className:"bg-surface-dark-2 text-text-secondary",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-4 py-3 text-left min-w-[200px]",children:a("prayer.date")}),e.jsx("th",{className:"px-3 py-3 text-center",children:a("prayer.times.imsak")}),e.jsx("th",{className:"px-3 py-3 text-center",children:a("prayer.times.subuh")}),e.jsx("th",{className:"px-3 py-3 text-center",children:a("prayer.times.terbit")}),e.jsx("th",{className:"px-3 py-3 text-center",children:a("prayer.times.dhuha")}),e.jsx("th",{className:"px-3 py-3 text-center",children:a("prayer.times.dzuhur")}),e.jsx("th",{className:"px-3 py-3 text-center",children:a("prayer.times.ashar")}),e.jsx("th",{className:"px-3 py-3 text-center",children:a("prayer.times.maghrib")}),e.jsx("th",{className:"px-3 py-3 text-center",children:a("prayer.times.isya")})]})}),e.jsx("tbody",{children:b.map((s,u)=>{const w=u+1,M=F(w),T=z(M),y=I(w);return e.jsxs("tr",{ref:y?W:void 0,className:`border-t border-border-dark transition-colors ${y?"bg-primary/10 hover:bg-primary/15":"hover:bg-surface-dark-2"}`,children:[e.jsx("td",{className:"px-4 py-3",children:e.jsxs("div",{className:"flex items-center gap-3",children:[y&&e.jsx("div",{className:"size-2 rounded-full bg-primary animate-pulse-dot flex-shrink-0"}),e.jsxs("div",{children:[e.jsxs("p",{className:`font-semibold ${y?"text-primary":""}`,children:[j(M.getDay()),", ",String(w).padStart(2,"0")," ",_(n.getMonth())," ",n.getFullYear()]}),e.jsx("p",{className:"text-xs text-text-secondary",children:v(M)}),e.jsxs("p",{className:"text-xs text-primary/70",children:[T.day," ",T.monthName," ",T.year,"H"]})]})]})}),e.jsx("td",{className:`px-3 py-3 text-center ${y?"font-semibold":""}`,children:s.imsak}),e.jsx("td",{className:`px-3 py-3 text-center ${y?"font-semibold":""}`,children:s.subuh}),e.jsx("td",{className:`px-3 py-3 text-center text-text-secondary ${y?"font-semibold":""}`,children:s.terbit||"-"}),e.jsx("td",{className:`px-3 py-3 text-center text-text-secondary ${y?"font-semibold":""}`,children:s.dhuha||"-"}),e.jsx("td",{className:`px-3 py-3 text-center ${y?"font-semibold":""}`,children:s.dzuhur}),e.jsx("td",{className:`px-3 py-3 text-center ${y?"font-semibold":""}`,children:s.ashar}),e.jsx("td",{className:`px-3 py-3 text-center ${y?"font-semibold":""}`,children:s.maghrib}),e.jsx("td",{className:`px-3 py-3 text-center ${y?"font-semibold":""}`,children:s.isya})]},u)})})]})}),e.jsx("div",{className:"md:hidden max-h-[65vh] overflow-y-auto",children:b.map((s,u)=>{const w=u+1,M=F(w),T=z(M),y=I(w);return e.jsxs("div",{ref:y?U:void 0,className:`p-4 border-b border-border-dark ${y?"bg-primary/10":""}`,children:[e.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[y&&e.jsx("span",{className:"px-2 py-0.5 bg-primary text-black text-xs font-bold rounded",children:a("common.today")}),e.jsxs("div",{className:"flex-1",children:[e.jsxs("p",{className:`font-bold ${y?"text-primary":""}`,children:[j(M.getDay()),", ",String(w).padStart(2,"0")," ",_(n.getMonth())]}),e.jsxs("p",{className:"text-xs text-text-secondary",children:[v(M)," • ",T.day," ",T.monthName," ",T.year,"H"]})]})]}),e.jsxs("div",{className:"grid grid-cols-4 gap-2 text-center text-xs",children:[e.jsxs("div",{className:"bg-surface-dark-2 rounded-lg p-2",children:[e.jsx("div",{className:"text-text-secondary",children:a("prayer.times.imsak")}),e.jsx("div",{className:"font-bold",children:s.imsak})]}),e.jsxs("div",{className:"bg-surface-dark-2 rounded-lg p-2",children:[e.jsx("div",{className:"text-text-secondary",children:a("prayer.times.subuh")}),e.jsx("div",{className:"font-bold",children:s.subuh})]}),e.jsxs("div",{className:"bg-surface-dark-2 rounded-lg p-2 opacity-70",children:[e.jsx("div",{className:"text-text-secondary",children:a("prayer.times.terbit")}),e.jsx("div",{className:"font-bold",children:s.terbit||"-"})]}),e.jsxs("div",{className:"bg-surface-dark-2 rounded-lg p-2 opacity-70",children:[e.jsx("div",{className:"text-text-secondary",children:a("prayer.times.dhuha")}),e.jsx("div",{className:"font-bold",children:s.dhuha||"-"})]}),e.jsxs("div",{className:"bg-surface-dark-2 rounded-lg p-2",children:[e.jsx("div",{className:"text-text-secondary",children:a("prayer.times.dzuhur")}),e.jsx("div",{className:"font-bold",children:s.dzuhur})]}),e.jsxs("div",{className:"bg-surface-dark-2 rounded-lg p-2",children:[e.jsx("div",{className:"text-text-secondary",children:a("prayer.times.ashar")}),e.jsx("div",{className:"font-bold",children:s.ashar})]}),e.jsxs("div",{className:"bg-surface-dark-2 rounded-lg p-2",children:[e.jsx("div",{className:"text-text-secondary",children:a("prayer.times.maghrib")}),e.jsx("div",{className:"font-bold",children:s.maghrib})]}),e.jsxs("div",{className:"bg-surface-dark-2 rounded-lg p-2",children:[e.jsx("div",{className:"text-text-secondary",children:a("prayer.times.isya")}),e.jsx("div",{className:"font-bold",children:s.isya})]})]})]},u)})})]})]}),e.jsx(ne,{isOpen:S,onClose:()=>f(!1),selectedDate:n,onSelectDate:k,mode:m==="daily"?"day":"month"})]})}export{Se as default};
