import{j as e}from"./index-Co3lyjy0.js";import{r as h,L as E}from"./vendor-react-CaYZq_vZ.js";import{b as _,c as C}from"./arabicUtils-WvAGflc5.js";import{u as I}from"./vendor-i18n-BjjXjqrR.js";import{L as P,E as U}from"./ErrorState-DCEne8_7.js";function $({isOpen:r,onClose:t,title:u,content:n}){const{i18n:k}=I(),l=k.language==="en",[o,f]=h.useState({arab:!0,latin:!0,indonesia:!0,english:!1});if(!r)return null;const v=s=>{f(p=>({...p,[s]:!p[s]}))},x=()=>{const s=[u,""];return o.arab&&n.arab&&(s.push(n.arab),s.push("")),o.latin&&n.latin&&(s.push(n.latin),s.push("")),o.indonesia&&n.indonesia&&(s.push(`${l?"Indonesian":"Bahasa Indonesia"}:`),s.push(n.indonesia),s.push("")),o.english&&n.english&&(s.push(`${l?"English":"Bahasa Inggris"}:`),s.push(n.english),s.push("")),s.join(`
`).trim()},w=()=>{const s=encodeURIComponent(x());window.open(`https://wa.me/?text=${s}`,"_blank"),t()},b=()=>{const s=encodeURIComponent(x());window.open(`https://t.me/share/url?text=${s}`,"_blank"),t()},g=async()=>{try{await navigator.clipboard.writeText(x()),t()}catch(s){console.error("Failed to copy:",s)}},j=async()=>{if(navigator.share)try{await navigator.share({title:u,text:x()}),t()}catch(s){console.error("Share failed:",s)}},y=[{key:"arab",label:l?"Arabic":"Arab",icon:"text_format",available:!!n.arab},{key:"latin",label:l?"Latin Transliteration":"Transliterasi Latin",icon:"translate",available:!!n.latin},{key:"indonesia",label:l?"Indonesian":"Bahasa Indonesia",icon:"flag",available:!!n.indonesia},{key:"english",label:l?"English":"Bahasa Inggris",icon:"language",available:!!n.english}],m=Object.entries(o).some(([s,p])=>p&&n[s]);return e.jsx("div",{className:"fixed inset-0 z-[100] flex items-center justify-center p-4 bg-black/60 backdrop-blur-sm",onClick:t,children:e.jsxs("div",{className:"bg-surface-dark rounded-2xl shadow-2xl max-w-md w-full overflow-hidden border border-border-dark",onClick:s=>s.stopPropagation(),children:[e.jsxs("div",{className:"p-4 border-b border-border-dark flex items-center justify-between",children:[e.jsx("h3",{className:"font-semibold",children:l?"Share Doa":"Bagikan Doa"}),e.jsx("button",{onClick:t,className:"text-text-secondary hover:text-white transition-colors",children:e.jsx("span",{className:"material-symbols-outlined",children:"close"})})]}),e.jsxs("div",{className:"p-4 space-y-2",children:[e.jsx("p",{className:"text-sm text-text-secondary mb-3",children:l?"Select content to share:":"Pilih konten yang ingin dibagikan:"}),y.map(s=>s.available&&e.jsxs("label",{className:`flex items-center gap-3 p-3 rounded-lg cursor-pointer transition-colors ${o[s.key]?"bg-primary/20 border border-primary/30":"bg-border-dark hover:bg-surface-dark-2"}`,children:[e.jsx("input",{type:"checkbox",checked:o[s.key],onChange:()=>v(s.key),className:"hidden"}),e.jsx("div",{className:`size-5 rounded border-2 flex items-center justify-center transition-colors ${o[s.key]?"bg-primary border-primary":"border-text-secondary"}`,children:o[s.key]&&e.jsx("span",{className:"material-symbols-outlined text-black text-[16px]",children:"check"})}),e.jsx("span",{className:"material-symbols-outlined text-text-secondary text-[20px]",children:s.icon}),e.jsx("span",{className:"text-sm",children:s.label})]},s.key))]}),e.jsxs("div",{className:"p-4 border-t border-border-dark space-y-3",children:[typeof navigator.share=="function"&&e.jsxs("button",{onClick:j,disabled:!m,className:"w-full flex items-center justify-center gap-2 py-3 rounded-xl bg-primary text-black font-semibold disabled:opacity-50 disabled:cursor-not-allowed hover:bg-primary-dark transition-colors",children:[e.jsx("span",{className:"material-symbols-outlined",children:"share"}),l?"Share":"Bagikan"]}),e.jsxs("div",{className:"flex gap-3",children:[e.jsxs("button",{onClick:w,disabled:!m,className:"flex-1 flex items-center justify-center gap-2 py-3 rounded-xl bg-[#25D366] text-white font-semibold disabled:opacity-50 disabled:cursor-not-allowed hover:brightness-110 transition-all",children:[e.jsx("svg",{className:"w-5 h-5",fill:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{d:"M17.472 14.382c-.297-.149-1.758-.867-2.03-.967-.273-.099-.471-.148-.67.15-.197.297-.767.966-.94 1.164-.173.199-.347.223-.644.075-.297-.15-1.255-.463-2.39-1.475-.883-.788-1.48-1.761-1.653-2.059-.173-.297-.018-.458.13-.606.134-.133.298-.347.446-.52.149-.174.198-.298.298-.497.099-.198.05-.371-.025-.52-.075-.149-.669-1.612-.916-2.207-.242-.579-.487-.5-.669-.51-.173-.008-.371-.01-.57-.01-.198 0-.52.074-.792.372-.272.297-1.04 1.016-1.04 2.479 0 1.462 1.065 2.875 1.213 3.074.149.198 2.096 3.2 5.077 4.487.709.306 1.262.489 1.694.625.712.227 1.36.195 1.871.118.571-.085 1.758-.719 2.006-1.413.248-.694.248-1.289.173-1.413-.074-.124-.272-.198-.57-.347m-5.421 7.403h-.004a9.87 9.87 0 01-5.031-1.378l-.361-.214-3.741.982.998-3.648-.235-.374a9.86 9.86 0 01-1.51-5.26c.001-5.45 4.436-9.884 9.888-9.884 2.64 0 5.122 1.03 6.988 2.898a9.825 9.825 0 012.893 6.994c-.003 5.45-4.437 9.884-9.885 9.884m8.413-18.297A11.815 11.815 0 0012.05 0C5.495 0 .16 5.335.157 11.892c0 2.096.547 4.142 1.588 5.945L.057 24l6.305-1.654a11.882 11.882 0 005.683 1.448h.005c6.554 0 11.89-5.335 11.893-11.893a11.821 11.821 0 00-3.48-8.413z"})}),e.jsx("span",{className:"hidden sm:inline",children:"WhatsApp"})]}),e.jsxs("button",{onClick:b,disabled:!m,className:"flex-1 flex items-center justify-center gap-2 py-3 rounded-xl bg-[#0088cc] text-white font-semibold disabled:opacity-50 disabled:cursor-not-allowed hover:brightness-110 transition-all",children:[e.jsx("svg",{className:"w-5 h-5",fill:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{d:"M11.944 0A12 12 0 0 0 0 12a12 12 0 0 0 12 12 12 12 0 0 0 12-12A12 12 0 0 0 12 0a12 12 0 0 0-.056 0zm4.962 7.224c.1-.002.321.023.465.14a.506.506 0 0 1 .171.325c.016.093.036.306.02.472-.18 1.898-.962 6.502-1.36 8.627-.168.9-.499 1.201-.82 1.23-.696.065-1.225-.46-1.9-.902-1.056-.693-1.653-1.124-2.678-1.8-1.185-.78-.417-1.21.258-1.91.177-.184 3.247-2.977 3.307-3.23.007-.032.014-.15-.056-.212s-.174-.041-.249-.024c-.106.024-1.793 1.14-5.061 3.345-.48.33-.913.49-1.302.48-.428-.008-1.252-.241-1.865-.44-.752-.245-1.349-.374-1.297-.789.027-.216.325-.437.893-.663 3.498-1.524 5.83-2.529 6.998-3.014 3.332-1.386 4.025-1.627 4.476-1.635z"})}),e.jsx("span",{className:"hidden sm:inline",children:"Telegram"})]}),e.jsxs("button",{onClick:g,disabled:!m,className:"flex-1 flex items-center justify-center gap-2 py-3 rounded-xl bg-border-dark text-white font-semibold disabled:opacity-50 disabled:cursor-not-allowed hover:bg-surface-dark-2 transition-colors",children:[e.jsx("span",{className:"material-symbols-outlined",children:"content_copy"}),e.jsx("span",{className:"hidden sm:inline",children:l?"Copy":"Salin"})]})]})]})]})})}function z(r){return!r||r.length===0?"Lainnya":r.some(t=>["makan","minum"].includes(t))?"Makanan":r.some(t=>["shalat","masjid","wudhu","adzan","quran","dzikir"].includes(t))?"Ibadah":r.some(t=>["perjalanan","safar","kendaraan"].includes(t))?"Perjalanan":r.some(t=>["sakit","sembuh","kesehatan"].includes(t))?"Kesehatan":r.some(t=>["harian","pagi","sore","malam","tidur"].includes(t))?"Sehari-hari":r.some(t=>["haji","umrah"].includes(t))?"Haji & Umrah":r.some(t=>t.includes("nabi"))?"Doa Nabi":"Lainnya"}function K(){const{t:r,i18n:t}=I(),u=t.language==="en",[n,k]=h.useState([]),[l,o]=h.useState(!0),[f,v]=h.useState(""),[x,w]=h.useState(""),[b,g]=h.useState("all"),[j,y]=h.useState(null);h.useEffect(()=>{m()},[]);const m=async()=>{o(!0);try{const d=(await _()).map(c=>{var N,T;return{id:String(c.id),judul:c.nama||`Doa #${c.id}`,arab:C(c.arab),latin:C(c.latin||""),arti:C(((N=c.terjemah)==null?void 0:N.id)||""),english:((T=c.terjemah)==null?void 0:T.en)||"",kategori:z(c.tag),tags:c.tag||[]}});k(d)}catch(a){console.error("Failed to fetch doa data:",a),v(r("common.error"))}finally{o(!1)}},s=["all",...new Set(n.map(a=>a.kategori))],p={all:{id:"Semua",en:"All"},"Sehari-hari":{id:"Sehari-hari",en:"Daily"},Makanan:{id:"Makanan",en:"Food"},Ibadah:{id:"Ibadah",en:"Worship"},Perjalanan:{id:"Perjalanan",en:"Travel"},Kesehatan:{id:"Kesehatan",en:"Health"},"Haji & Umrah":{id:"Haji & Umrah",en:"Hajj & Umrah"},"Doa Nabi":{id:"Doa Nabi",en:"Prophets' Prayers"},Lainnya:{id:"Lainnya",en:"Others"}},S=a=>{const d=p[a];return d?u?d.en:d.id:a},D=a=>{switch(a){case"all":return"list";case"Sehari-hari":return"wb_sunny";case"Makanan":return"restaurant";case"Ibadah":return"mosque";case"Perjalanan":return"directions_car";case"Kesehatan":return"healing";case"Haji & Umrah":return"travel_explore";case"Doa Nabi":return"auto_stories";default:return"star"}},L=n.filter(a=>{const d=u?a.english:a.arti,c=a.judul.toLowerCase().includes(x.toLowerCase())||d.toLowerCase().includes(x.toLowerCase()),N=b==="all"||a.kategori===b;return c&&N}),i=j?n.find(a=>a.id===j):null;return l?e.jsx(P,{}):f?e.jsx(U,{message:f,onRetry:m}):e.jsxs("div",{className:"flex min-h-full",children:[e.jsxs("aside",{className:"w-64 flex-none hidden lg:flex flex-col border-r border-border-dark bg-bg-dark p-4",children:[e.jsx("h3",{className:"text-xs font-bold text-text-secondary uppercase tracking-wider mb-4",children:r("doa.category")}),e.jsx("p",{className:"text-xs text-text-secondary mb-4",children:r("doa.exploreCollection")}),e.jsx("nav",{className:"space-y-1",children:s.map(a=>e.jsxs("button",{onClick:()=>g(a),className:`w-full flex items-center gap-3 p-3 rounded-xl text-left text-sm font-medium transition-colors ${b===a?"bg-primary/10 text-primary border border-primary/20":"text-text-secondary hover:bg-surface-dark hover:text-white"}`,children:[e.jsx("span",{className:"material-symbols-outlined text-[20px]",children:D(a)}),e.jsx("span",{children:S(a)}),a==="all"&&e.jsx("span",{className:"ml-auto text-xs bg-border-dark px-2 py-0.5 rounded",children:n.length})]},a))})]}),e.jsx("main",{className:"flex-1 flex justify-center py-6 md:py-10 px-4 md:px-10",children:e.jsxs("div",{className:"flex flex-col max-w-[800px] flex-1 gap-6",children:[e.jsxs("div",{className:"text-center",children:[e.jsx("h1",{className:"text-2xl md:text-3xl font-black tracking-tight mb-2",children:r("doa.title")}),e.jsx("p",{className:"text-text-secondary text-sm",children:r("doa.subtitle")})]}),e.jsxs(E,{to:"/hajj-umrah",className:"surface-card p-4 flex items-center gap-4 hover:border-primary/40 transition-colors group",children:[e.jsx("div",{className:"w-12 h-12 rounded-xl bg-primary/20 flex items-center justify-center text-primary shrink-0 group-hover:scale-105 transition-transform",children:e.jsx("span",{className:"material-symbols-outlined text-2xl",children:"mosque"})}),e.jsxs("div",{className:"flex-1",children:[e.jsx("h3",{className:"font-semibold text-white group-hover:text-primary transition-colors",children:r("doa.hajjUmrahLinkTitle")}),e.jsx("p",{className:"text-sm text-text-secondary",children:r("doa.hajjUmrahLinkDesc")})]}),e.jsx("span",{className:"material-symbols-outlined text-text-secondary group-hover:text-primary transition-colors",children:"arrow_forward"})]}),e.jsxs("div",{className:"flex w-full items-stretch rounded-lg h-12 bg-border-dark",children:[e.jsx("div",{className:"text-text-secondary flex items-center justify-center pl-4",children:e.jsx("span",{className:"material-symbols-outlined",children:"search"})}),e.jsx("input",{className:"flex w-full flex-1 border-none bg-transparent text-white focus:outline-none h-full placeholder:text-text-secondary px-4 pl-2 text-sm",placeholder:r("doa.searchPlaceholder"),value:x,onChange:a=>w(a.target.value)})]}),e.jsx("div",{className:"lg:hidden flex flex-wrap gap-2",children:s.map(a=>e.jsx("button",{onClick:()=>g(a),className:`px-4 py-2 rounded-full text-sm font-medium transition-colors ${b===a?"bg-primary text-black":"bg-border-dark text-text-secondary hover:text-white"}`,children:S(a)},a))}),e.jsx("div",{className:"space-y-4",children:L.map((a,d)=>e.jsxs("article",{className:"surface-card overflow-hidden",children:[e.jsxs("div",{className:"bg-surface-dark-2 px-5 py-3 flex items-center justify-between border-b border-border-dark",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("span",{className:"size-7 rounded-lg bg-primary/20 text-primary flex items-center justify-center text-xs font-bold",children:String(d+1).padStart(2,"0")}),e.jsxs("div",{children:[e.jsx("h3",{className:"font-semibold text-sm",children:a.judul}),e.jsxs("p",{className:"text-xs text-text-secondary",children:[r("doa.category"),": ",S(a.kategori)]})]})]}),e.jsxs("button",{onClick:()=>y(a.id),className:"flex items-center gap-2 px-3 py-2 rounded-lg text-sm font-medium transition-colors bg-border-dark text-text-secondary hover:text-white hover:bg-surface-dark",children:[e.jsx("span",{className:"material-symbols-outlined text-[18px]",children:"share"}),e.jsx("span",{className:"hidden sm:inline",children:r("common.share")})]})]}),e.jsxs("div",{className:"p-5 space-y-4",children:[e.jsx("div",{className:"bg-surface-dark-2 rounded-xl p-4",children:e.jsx("p",{className:"font-arabic text-2xl md:text-3xl text-center text-white",dir:"rtl",style:{lineHeight:"2.5"},children:a.arab})}),a.latin&&e.jsx("div",{children:e.jsxs("p",{className:"text-gray-300 italic text-sm",children:['"',a.latin,'"']})}),(a.arti||a.english)&&e.jsxs("div",{children:[e.jsx("p",{className:"text-xs uppercase tracking-wider text-text-secondary font-medium mb-1",children:r("doa.meaning")}),e.jsxs("p",{className:"text-gray-300 text-sm",children:['"',u&&a.english?a.english:a.arti,'"']})]})]})]},a.id))}),L.length===0&&e.jsxs("div",{className:"text-center py-16",children:[e.jsx("span",{className:"material-symbols-outlined text-6xl text-text-secondary mb-4",children:"search_off"}),e.jsx("p",{className:"text-text-secondary",children:r("doa.noResults")})]})]})}),e.jsx($,{isOpen:!!i,onClose:()=>y(null),title:(i==null?void 0:i.judul)||"",content:{arab:i==null?void 0:i.arab,latin:i==null?void 0:i.latin,indonesia:i==null?void 0:i.arti,english:i==null?void 0:i.arti}})]})}export{K as default};
