import{j as e,A as re,a as de}from"./index-Co3lyjy0.js";import{r as i}from"./vendor-react-CaYZq_vZ.js";import{A as ue}from"./AudioControlPanel-9qJEFhXi.js";import{u as ne}from"./vendor-i18n-BjjXjqrR.js";const ee=[{id:"galaxy",name:{en:"Galaxy",id:"Galaksi"},background:"linear-gradient(135deg, #0a0a1a 0%, #1a0a2e 50%, #0f1a2e 100%)",primaryColor:"#8b5cf6",accentColor:"#06b6d4",particleColor:"#ffffff"},{id:"night-forest",name:{en:"Night Forest",id:"Hutan Malam"},background:"linear-gradient(180deg, #0a1a0a 0%, #1a2a1a 50%, #0f1f0f 100%)",primaryColor:"#22c55e",accentColor:"#84cc16",particleColor:"#fef08a"},{id:"luxury-mosque",name:{en:"Luxury Mosque",id:"Masjid Megah"},background:"linear-gradient(135deg, #0f172a 0%, #1e3a5f 50%, #172554 100%)",primaryColor:"#d4af37",accentColor:"#1e40af",particleColor:"#fbbf24"},{id:"water-lake",name:{en:"Calm Lake",id:"Danau Tenang"},background:"linear-gradient(180deg, #0c1929 0%, #0f2942 50%, #0a1628 100%)",primaryColor:"#38bdf8",accentColor:"#22d3ee",particleColor:"#7dd3fc"},{id:"aurora",name:{en:"Aurora Borealis",id:"Aurora Borealis"},background:"linear-gradient(135deg, #0a0a1a 0%, #0f2027 50%, #203a43 100%)",primaryColor:"#34d399",accentColor:"#a78bfa",particleColor:"#6ee7b7"},{id:"desert",name:{en:"Desert Sunset",id:"Gurun Senja"},background:"linear-gradient(180deg, #1a0a0a 0%, #2d1f1a 50%, #3d2a1a 100%)",primaryColor:"#f97316",accentColor:"#dc2626",particleColor:"#fcd34d"},{id:"underwater",name:{en:"Deep Ocean",id:"Samudra Dalam"},background:"linear-gradient(180deg, #0a1a2a 0%, #0f2a4a 50%, #051525 100%)",primaryColor:"#0ea5e9",accentColor:"#14b8a6",particleColor:"#67e8f9"},{id:"minimalist",name:{en:"Minimalist Dark",id:"Minimalis Gelap"},background:"linear-gradient(180deg, #000000 0%, #0a0a0a 50%, #050505 100%)",primaryColor:"#f5f5f5",accentColor:"#a3a3a3",particleColor:"#525252"},{id:"sacred-geometry",name:{en:"Sacred Geometry",id:"Geometri Suci"},background:"linear-gradient(135deg, #0f0f23 0%, #1a1a3a 50%, #0f0f1f 100%)",primaryColor:"#c084fc",accentColor:"#f472b6",particleColor:"#e879f9"}],me=[{id:"ripple",name:{en:"Ripple Visualizer",id:"Visualisasi Riak"},enabled:!0,userConfigurable:!0},{id:"mandala",name:{en:"Living Mandala",id:"Mandala Hidup"},enabled:!1,userConfigurable:!0},{id:"dust",name:{en:"Floating Dust",id:"Debu Melayang"},enabled:!0,userConfigurable:!0},{id:"particles",name:{en:"Particle Network",id:"Jaringan Partikel"},enabled:!1,userConfigurable:!0},{id:"fireflies",name:{en:"Fireflies",id:"Kunang-kunang"},enabled:!1,userConfigurable:!0},{id:"reflection",name:{en:"Water Reflection",id:"Pantulan Air"},enabled:!0,userConfigurable:!0},{id:"aurora-waves",name:{en:"Aurora Waves",id:"Gelombang Aurora"},enabled:!1,userConfigurable:!0},{id:"lens-flare",name:{en:"Lens Flare",id:"Lens Flare"},enabled:!1,userConfigurable:!0},{id:"bokeh",name:{en:"Bokeh Circles",id:"Lingkaran Bokeh"},enabled:!1,userConfigurable:!0},{id:"starfield",name:{en:"Star Field",id:"Bintang Paralaks"},enabled:!0,userConfigurable:!0},{id:"islamic-patterns",name:{en:"Islamic Patterns",id:"Pola Islami"},enabled:!1,userConfigurable:!0}],se={theme:"galaxy",effects:["ripple","dust","reflection","starfield"],audioReactive:!0,floatingText:!0,parallax:!0,mouseInteraction:!0,transitionDuration:800},ie="asmaulHusna_immersive";function le(){try{const o=localStorage.getItem(ie);if(o)return{...se,...JSON.parse(o)}}catch(o){console.error("Failed to load immersive config:",o)}return se}function he(o){try{const k=le();localStorage.setItem(ie,JSON.stringify({...k,...o}))}catch(k){console.error("Failed to save immersive config:",k)}}function fe(o){return ee.find(k=>k.id===o)||ee[0]}function xe({isOpen:o,onClose:k,currentName:p,isPlaying:H,onPrev:L,onNext:x,onTogglePlay:W,getMeaning:w}){const{i18n:S}=ne(),m=S.language==="en",R=i.useRef(null),A=i.useRef(0),M=i.useRef(0),[B,_]=i.useState(!1),[s,F]=i.useState(le),[g,Y]=i.useState(0),c=fe(s.theme),G=i.useRef([]),u=i.useRef(0);i.useEffect(()=>{if(o){const t=window.scrollY;document.body.style.position="fixed",document.body.style.top=`-${t}px`,document.body.style.left="0",document.body.style.right="0",document.body.style.overflow="hidden";const n=document.documentElement;return n.requestFullscreen?n.requestFullscreen().catch(()=>{}):n.webkitRequestFullscreen&&n.webkitRequestFullscreen(),()=>{document.body.style.position="",document.body.style.top="",document.body.style.left="",document.body.style.right="",document.body.style.overflow="",window.scrollTo(0,t),document.fullscreenElement?document.exitFullscreen().catch(()=>{}):document.webkitFullscreenElement&&document.webkitExitFullscreen()}}},[o]);const z=i.useCallback(()=>{const t=R.current;if(!t)return;const n=[],y=window.innerWidth<768?50:100;for(let E=0;E<y;E++){const j=Math.random()*3+1,h=Math.random()*.5+.2;n.push({x:Math.random()*t.width,y:Math.random()*t.height,vx:(Math.random()-.5)*.5,vy:(Math.random()-.5)*.5,baseSize:j,size:j,baseOpacity:h,opacity:h,type:s.effects.includes("fireflies")?"firefly":s.effects.includes("starfield")?"star":"dust"})}G.current=n},[s.effects]);i.useEffect(()=>{if(!o)return;const t=R.current;if(!t)return;const n=t.getContext("2d");if(!n)return;const y=()=>{t.width=window.innerWidth,t.height=window.innerHeight,z()};y(),window.addEventListener("resize",y);let E=t.width/2,j=t.height/2;const h=d=>{const C="touches"in d?d.touches[0]:d;C&&(E=C.clientX,j=C.clientY)};s.mouseInteraction&&(window.addEventListener("mousemove",h),window.addEventListener("touchmove",h));const V=()=>{n.clearRect(0,0,t.width,t.height);let d=0;H?(M.current+=.05,d=.3+Math.sin(M.current)*.2+Math.sin(M.current*2.3)*.1,u.current+=(d-u.current)*.1):u.current*=.95,d=u.current,Y(d);const C=G.current;if(C.forEach((r,v)=>{if(s.mouseInteraction){const T=E-r.x,f=j-r.y;Math.sqrt(T*T+f*f)<150&&(r.vx-=T*.001,r.vy-=f*.001)}if(s.audioReactive){const T=r.baseSize*(1+d*.5);r.size+=(T-r.size)*.1;const f=Math.min(1,r.baseOpacity+d*.2);r.opacity+=(f-r.opacity)*.1}else r.size+=(r.baseSize-r.size)*.1,r.opacity+=(r.baseOpacity-r.opacity)*.1;r.vx*=.99,r.vy*=.99;const I=2;r.vx=Math.max(-I,Math.min(I,r.vx)),r.vy=Math.max(-I,Math.min(I,r.vy));const N=1+d*.5;if(r.x+=r.vx*N,r.y+=r.vy*N,r.x<0&&(r.x=t.width),r.x>t.width&&(r.x=0),r.y<0&&(r.y=t.height),r.y>t.height&&(r.y=0),n.beginPath(),n.arc(r.x,r.y,r.size,0,Math.PI*2),n.fillStyle=`${c.particleColor}${Math.floor(r.opacity*255).toString(16).padStart(2,"0")}`,n.fill(),s.effects.includes("particles"))for(let T=v+1;T<C.length;T++){const f=C[T],$=r.x-f.x,O=r.y-f.y,U=Math.sqrt($*$+O*O);U<100&&(n.beginPath(),n.moveTo(r.x,r.y),n.lineTo(f.x,f.y),n.strokeStyle=`${c.particleColor}${Math.floor((1-U/100)*50).toString(16).padStart(2,"0")}`,n.stroke())}}),s.effects.includes("ripple")){const r=t.width/2,v=t.height*.45,N=Math.min(t.width,t.height)*.35+d*50;n.beginPath(),n.arc(r,v,N,0,Math.PI*2),n.strokeStyle=`${c.accentColor}${Math.floor(40+d*40).toString(16).padStart(2,"0")}`,n.lineWidth=2+d*2,n.stroke(),n.beginPath(),n.arc(r,v,N*.7,0,Math.PI*2),n.strokeStyle=`${c.primaryColor}${Math.floor(30+d*30).toString(16).padStart(2,"0")}`,n.lineWidth=1.5,n.stroke(),n.beginPath(),n.arc(r,v,N*1.2,0,Math.PI*2),n.strokeStyle=`${c.accentColor}15`,n.lineWidth=1,n.stroke()}A.current=requestAnimationFrame(V)};return V(),()=>{cancelAnimationFrame(A.current),window.removeEventListener("resize",y),window.removeEventListener("mousemove",h),window.removeEventListener("touchmove",h)}},[o,s,c,H,z]);const b=t=>{const n={...s,...t};F(n),he(t)},D=t=>{const n=s.effects.includes(t)?s.effects.filter(y=>y!==t):[...s.effects,t];b({effects:n})};return o?e.jsxs("div",{className:"fixed inset-0 z-[200] overflow-hidden no-select",style:{background:c.background},onContextMenu:t=>t.preventDefault(),children:[e.jsx("canvas",{ref:R,className:"absolute inset-0 w-full h-full"}),e.jsxs("div",{className:"relative z-10 h-full flex flex-col items-center justify-center px-4",children:[e.jsxs("div",{className:"absolute top-0 left-0 right-0 p-4 flex items-center justify-between",children:[e.jsx("button",{onClick:()=>_(!0),className:"size-12 rounded-full bg-white/10 hover:bg-white/20 backdrop-blur-sm transition-all flex items-center justify-center",children:e.jsx("span",{className:"material-symbols-outlined",style:{color:"#fff"},children:"settings"})}),e.jsx("div",{className:"text-center",children:e.jsx("p",{className:"text-sm",style:{color:"rgba(255,255,255,0.6)"},children:m?"Immersive Mode":"Mode Immersive"})}),e.jsx("button",{onClick:k,className:"size-12 rounded-full bg-white/10 hover:bg-white/20 backdrop-blur-sm transition-all flex items-center justify-center",children:e.jsx("span",{className:"material-symbols-outlined",style:{color:"#fff"},children:"close"})})]}),p?e.jsxs("div",{className:`text-center transition-all duration-500 ${s.floatingText?"animate-float":""}`,style:{transform:s.parallax?`translateY(${-g*10}px)`:void 0},children:[e.jsx("p",{className:"font-arabic text-6xl sm:text-7xl md:text-8xl lg:text-9xl mb-6 transition-all",style:{color:c.primaryColor,textShadow:`0 0 ${20+g*30}px ${c.primaryColor}40`,transform:`scale(${1+g*.1})`},children:p.arab}),s.effects.includes("reflection")&&e.jsx("p",{className:"font-arabic text-4xl sm:text-5xl md:text-6xl opacity-30 transform scale-y-[-1] blur-[2px]",style:{color:c.primaryColor,maskImage:"linear-gradient(to top, transparent 0%, black 100%)"},children:p.arab}),e.jsx("p",{className:"text-2xl sm:text-3xl md:text-4xl font-bold mb-3 mt-12",style:{color:"#fff"},children:p.latin}),e.jsx("p",{className:"text-lg sm:text-xl max-w-md mx-auto",style:{color:"rgba(255,255,255,0.7)"},children:w(p.urutan,p.arti)}),e.jsxs("p",{className:"mt-6 text-lg font-medium",style:{color:c.accentColor},children:[p.urutan," / 99"]})]}):e.jsxs("div",{className:"text-center text-white/60",children:[e.jsx("span",{className:"material-symbols-outlined text-6xl mb-4",children:"play_circle"}),e.jsx("p",{children:m?"Press Play to start":"Tekan Play untuk mulai"})]}),e.jsx("div",{className:"absolute bottom-0 left-0 right-0 p-6",children:e.jsxs("div",{className:"max-w-md mx-auto flex items-center justify-center gap-4",children:[e.jsx("button",{onClick:L,className:"p-4 rounded-full bg-white/10 hover:bg-white/20 backdrop-blur-sm transition-all",children:e.jsx("span",{className:"material-symbols-outlined text-2xl",style:{color:"#fff"},children:"skip_previous"})}),e.jsx("button",{onClick:W,className:"p-6 rounded-full transition-all",style:{backgroundColor:c.primaryColor,boxShadow:`0 0 ${20+g*30}px ${c.primaryColor}60`},children:e.jsx("span",{className:"material-symbols-outlined text-4xl",style:{color:"#000"},children:H?"pause":"play_arrow"})}),e.jsx("button",{onClick:x,className:"p-4 rounded-full bg-white/10 hover:bg-white/20 backdrop-blur-sm transition-all",children:e.jsx("span",{className:"material-symbols-outlined text-2xl",style:{color:"#fff"},children:"skip_next"})})]})})]}),B&&e.jsx("div",{className:"absolute inset-0 z-50 flex items-center justify-center p-4 bg-black/60 backdrop-blur-sm dark",onClick:()=>_(!1),children:e.jsxs("div",{className:"bg-[#1a1a2e] rounded-2xl shadow-2xl max-w-md w-full max-h-[80vh] overflow-y-auto",onClick:t=>t.stopPropagation(),children:[e.jsxs("div",{className:"p-4 border-b border-white/10 flex items-center justify-between sticky top-0 bg-[#1a1a2e]",children:[e.jsx("h3",{className:"font-semibold",style:{color:"#fff"},children:m?"Immersive Settings":"Pengaturan Immersive"}),e.jsx("button",{onClick:()=>_(!1),className:"hover:text-white",style:{color:"rgba(255,255,255,0.6)"},children:e.jsx("span",{className:"material-symbols-outlined",children:"close"})})]}),e.jsxs("div",{className:"p-4 space-y-6",children:[e.jsxs("div",{children:[e.jsx("h4",{className:"text-sm font-medium mb-3",style:{color:"#fff"},children:m?"Theme":"Tema"}),e.jsx("div",{className:"grid grid-cols-3 gap-2",children:ee.map(t=>e.jsx("button",{onClick:()=>b({theme:t.id}),className:`p-3 rounded-lg text-xs text-center transition-all ${s.theme===t.id?"ring-2 ring-primary":"hover:ring-1 hover:ring-white/30"}`,style:{background:t.background},children:e.jsx("span",{className:"font-medium drop-shadow-[0_1px_2px_rgba(0,0,0,0.8)]",style:{color:"#fff"},children:m?t.name.en:t.name.id})},t.id))})]}),e.jsxs("div",{children:[e.jsx("h4",{className:"text-sm font-medium mb-3",style:{color:"#fff"},children:m?"Visual Effects":"Efek Visual"}),e.jsx("div",{className:"space-y-2",children:me.filter(t=>t.userConfigurable).map(t=>e.jsxs("label",{className:`flex items-center gap-3 p-3 rounded-lg cursor-pointer transition-colors ${s.effects.includes(t.id)?"bg-primary/20 border border-primary/30":"bg-white/10 hover:bg-white/20"}`,children:[e.jsx("input",{type:"checkbox",checked:s.effects.includes(t.id),onChange:()=>D(t.id),className:"hidden"}),e.jsx("div",{className:`size-5 rounded border-2 flex items-center justify-center ${s.effects.includes(t.id)?"bg-primary border-primary":"border-text-secondary"}`,children:s.effects.includes(t.id)&&e.jsx("span",{className:"material-symbols-outlined text-black text-[16px]",children:"check"})}),e.jsx("span",{className:"text-sm",style:{color:"#fff"},children:m?t.name.en:t.name.id})]},t.id))})]}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("label",{className:"flex items-center justify-between p-3 rounded-lg bg-white/5",children:[e.jsx("span",{className:"text-sm",style:{color:"#fff"},children:m?"Audio Reactive":"Reaktif Audio"}),e.jsx("input",{type:"checkbox",checked:s.audioReactive,onChange:t=>b({audioReactive:t.target.checked}),className:"toggle-checkbox"})]}),e.jsxs("label",{className:"flex items-center justify-between p-3 rounded-lg bg-white/5",children:[e.jsx("span",{className:"text-sm",style:{color:"#fff"},children:m?"Floating Text":"Teks Melayang"}),e.jsx("input",{type:"checkbox",checked:s.floatingText,onChange:t=>b({floatingText:t.target.checked}),className:"toggle-checkbox"})]}),e.jsxs("label",{className:"flex items-center justify-between p-3 rounded-lg bg-white/5",children:[e.jsx("span",{className:"text-sm",style:{color:"#fff"},children:m?"Mouse Interaction":"Interaksi Mouse"}),e.jsx("input",{type:"checkbox",checked:s.mouseInteraction,onChange:t=>b({mouseInteraction:t.target.checked}),className:"toggle-checkbox"})]})]})]})]})}),e.jsx("style",{children:`
                @keyframes float {
                    0%, 100% { transform: translateY(0); }
                    50% { transform: translateY(-10px); }
                }
                .animate-float {
                    animation: float 3s ease-in-out infinite;
                }
                .toggle-checkbox {
                    appearance: none;
                    width: 44px;
                    height: 24px;
                    background: #374151;
                    border-radius: 12px;
                    position: relative;
                    cursor: pointer;
                    transition: background 0.3s;
                }
                .toggle-checkbox:checked {
                    background: var(--primary);
                }
                .toggle-checkbox::after {
                    content: '';
                    position: absolute;
                    top: 2px;
                    left: 2px;
                    width: 20px;
                    height: 20px;
                    background: white;
                    border-radius: 50%;
                    transition: transform 0.3s;
                }
                .toggle-checkbox:checked::after {
                    transform: translateX(20px);
                }
            `})]}):null}const K=[{id:"Alfina Nindiyani Asmaul Husna",name:"Alfina Nindiyani"},{id:"Putri Ariani Asmaul Husna",name:"Putri Ariani"},{id:"TVRI Asmaul Husna",name:"TVRI"},{id:"v1",name:"v1"},{id:"v2",name:"v2"}],X=`${de}/asmaul-husna/audio`,Q=[.5,.75,1,1.25,1.5,2],Z={1:"The Most Gracious",2:"The Most Merciful",3:"The King",4:"The Most Holy",5:"The Source of Peace",6:"The Guardian of Faith",7:"The Protector",8:"The Almighty",9:"The Compeller",10:"The Greatest",11:"The Creator",12:"The Originator",13:"The Fashioner",14:"The Forgiving",15:"The Subduer",16:"The Bestower",17:"The Provider",18:"The Opener",19:"The All-Knowing",20:"The Restrainer",21:"The Expander",22:"The Abaser",23:"The Exalter",24:"The Giver of Honor",25:"The Giver of Dishonor",26:"The All-Hearing",27:"The All-Seeing",28:"The Judge",29:"The Just",30:"The Subtle One",31:"The All-Aware",32:"The Forbearing",33:"The Supreme",34:"The Forgiving",35:"The Appreciative",36:"The Most High",37:"The Great",38:"The Preserver",39:"The Maintainer",40:"The Reckoner",41:"The Majestic",42:"The Generous",43:"The Watchful",44:"The Responsive",45:"The Vast",46:"The Wise",47:"The Loving",48:"The Glorious",49:"The Resurrector",50:"The Witness",51:"The Truth",52:"The Trustee",53:"The Strong",54:"The Firm",55:"The Protecting Friend",56:"The Praiseworthy",57:"The Counter",58:"The Originator",59:"The Restorer",60:"The Giver of Life",61:"The Taker of Life",62:"The Ever-Living",63:"The Self-Sufficient",64:"The Finder",65:"The Noble",66:"The One",67:"The Unique",68:"The Eternal",69:"The Able",70:"The Powerful",71:"The Expediter",72:"The Delayer",73:"The First",74:"The Last",75:"The Manifest",76:"The Hidden",77:"The Governor",78:"The Most Exalted",79:"The Source of Goodness",80:"The Acceptor of Repentance",81:"The Lord of Retribution",82:"The Pardoner",83:"The Compassionate",84:"The Owner of Sovereignty",85:"The Lord of Majesty and Generosity",86:"The Equitable",87:"The Gatherer",88:"The Self-Sufficient",89:"The Enricher",90:"The Preventer",91:"The Distresser",92:"The Benefactor",93:"The Light",94:"The Guide",95:"The Incomparable",96:"The Everlasting",97:"The Inheritor",98:"The Guide to the Right Path",99:"The Patient"};function ve(){var te;const{t:o,i18n:k}=ne(),[p,H]=i.useState(""),L=k.language==="en",[x,W]=i.useState(()=>localStorage.getItem("asmaulHusna_voice")||K[0].id),[w,S]=i.useState(!1),[m,R]=i.useState(!1),[A,M]=i.useState(0),[B,_]=i.useState(0),[s,F]=i.useState(-1),[g,Y]=i.useState(1),[c,G]=i.useState(1),[u,z]=i.useState([]),[b,D]=i.useState(!1),t=i.useRef(null),n=i.useRef([]),y=re.filter(a=>{const l=p.toLowerCase(),P=Z[a.urutan]||"";return a.latin.toLowerCase().includes(l)||a.arti.toLowerCase().includes(l)||P.toLowerCase().includes(l)||a.urutan.toString().includes(p)}),E=(a,l)=>L&&Z[a]?Z[a]:l;i.useEffect(()=>{localStorage.setItem("asmaulHusna_voice",x)},[x]),i.useEffect(()=>{(async()=>{try{const l=`${X}/${encodeURIComponent(x)}.txt`,oe=await(await fetch(l)).text(),ae=[],ce=/{\s*id:\s*(\d+),\s*start:\s*([\d.]+)\s*}/g;let J;for(;(J=ce.exec(oe))!==null;)ae.push({id:parseInt(J[1]),start:parseFloat(J[2])});z(ae)}catch(l){console.error("Failed to load timing data:",l)}})()},[x]);const j=i.useRef(!1),h=i.useRef(null);i.useEffect(()=>{const a=()=>{j.current=!0,h.current&&clearTimeout(h.current),h.current=setTimeout(()=>{var l;j.current=!1,w&&s>=0&&n.current[s]&&!b&&((l=n.current[s])==null||l.scrollIntoView({behavior:"smooth",block:"center"}))},3e3)};return window.addEventListener("wheel",a,{passive:!0}),window.addEventListener("touchstart",a,{passive:!0}),window.addEventListener("touchmove",a,{passive:!0}),window.addEventListener("mousedown",a,{passive:!0}),()=>{window.removeEventListener("wheel",a),window.removeEventListener("touchstart",a),window.removeEventListener("touchmove",a),window.removeEventListener("mousedown",a),h.current&&clearTimeout(h.current)}},[w,s,b]),i.useEffect(()=>{var a;if(!(!u.length||A===0)){for(let l=u.length-1;l>=0;l--)if(A>=u[l].start){s!==l&&(F(l),!j.current&&n.current[l]&&!b&&((a=n.current[l])==null||a.scrollIntoView({behavior:"smooth",block:"center"})));break}}},[A,u,s,b]);const V=i.useCallback(()=>{t.current&&M(t.current.currentTime)},[]),d=i.useCallback(()=>{t.current&&_(t.current.duration)},[]),C=i.useCallback(()=>{S(!1),F(-1),M(0)},[]),r=i.useCallback(()=>{t.current&&(t.current.src=`${X}/${encodeURIComponent(x)}.mp3`,t.current.playbackRate=g,t.current.volume=c,t.current.play(),S(!0),R(!0))},[x,g,c]),v=i.useCallback(a=>{if(!t.current||!u[a])return;const l=u[a];t.current.src=`${X}/${encodeURIComponent(x)}.mp3`,t.current.currentTime=l.start,t.current.playbackRate=g,t.current.volume=c,t.current.play(),S(!0),R(!0),F(a)},[x,u,g,c]),I=i.useCallback(()=>{t.current&&(w?(t.current.pause(),S(!1)):(t.current.src?t.current.play():r(),S(!0)))},[w,r]),N=i.useCallback(()=>{t.current&&(t.current.pause(),t.current.currentTime=0),S(!1),F(-1),M(0),R(!1)},[]),T=i.useCallback(a=>{t.current&&(t.current.currentTime=a,M(a))},[]),f=i.useCallback(()=>{s>0&&u[s-1]&&v(s-1)},[s,v,u]),$=i.useCallback(()=>{s<98&&u[s+1]&&v(s+1)},[s,v,u]),O=i.useCallback(()=>{const l=(Q.indexOf(g)+1)%Q.length,P=Q[l];Y(P),t.current&&(t.current.playbackRate=P)},[g]),U=i.useCallback(a=>{G(a),t.current&&(t.current.volume=a)},[]),q=s>=0?re[s]:null;return e.jsxs(e.Fragment,{children:[e.jsx("audio",{ref:t,onTimeUpdate:V,onLoadedMetadata:d,onEnded:C}),e.jsx("main",{className:`flex-1 flex justify-center py-6 md:py-10 px-4 md:px-10 ${m?"pb-32":""}`,children:e.jsxs("div",{className:"flex flex-col max-w-[1200px] flex-1 gap-8",children:[e.jsxs("div",{className:"text-center",children:[e.jsx("p",{className:"font-arabic text-3xl md:text-4xl text-primary mb-4",children:"الْأَسْمَاءُ الْحُسْنَى"}),e.jsx("h1",{className:"text-3xl md:text-4xl font-black tracking-tight mb-2",children:o("asmaulHusna.title")}),e.jsx("p",{className:"text-text-secondary",children:o("asmaulHusna.subtitle")})]}),e.jsxs("div",{className:"flex flex-col sm:flex-row items-center justify-center gap-4",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("span",{className:"material-symbols-outlined text-primary",children:"mic"}),e.jsx("select",{value:x,onChange:a=>{W(a.target.value),N()},className:"px-4 py-2 rounded-lg bg-border-dark text-white text-sm focus:outline-none focus:ring-2 focus:ring-primary",children:K.map(a=>e.jsx("option",{value:a.id,children:a.name},a.id))})]}),e.jsxs("button",{onClick:r,className:"flex items-center gap-2 px-6 py-3 rounded-xl bg-primary text-black font-semibold hover:bg-primary-dark transition-colors",children:[e.jsx("span",{className:"material-symbols-outlined",children:"play_arrow"}),L?"Play All 99 Names":"Putar Semua 99 Nama"]}),e.jsxs("button",{onClick:()=>D(!0),className:"flex items-center gap-2 px-4 py-2 rounded-lg bg-surface-dark text-white hover:bg-border-dark transition-colors text-sm",children:[e.jsx("span",{className:"material-symbols-outlined",children:"fullscreen"}),"Immersive"]})]}),e.jsx("div",{className:"max-w-xl mx-auto w-full",children:e.jsxs("div",{className:"flex w-full items-stretch rounded-lg h-12 bg-gray-100 dark:bg-border-dark",children:[e.jsx("div",{className:"flex items-center justify-center pl-4 text-gray-500 dark:text-text-secondary",children:e.jsx("span",{className:"material-symbols-outlined",children:"search"})}),e.jsx("input",{className:"flex w-full flex-1 border-none bg-transparent text-gray-800 dark:text-white focus:outline-none h-full placeholder:text-gray-400 dark:placeholder:text-text-secondary px-4 pl-2 text-sm",placeholder:o("asmaulHusna.searchPlaceholder"),value:p,onChange:a=>H(a.target.value)})]})}),e.jsx("p",{className:"text-sm text-text-secondary text-center",children:o("asmaulHusna.showing",{count:y.length})}),e.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-4",dir:"rtl",children:y.map(a=>{const l=s===a.urutan-1;return e.jsxs("div",{ref:P=>{n.current[a.urutan-1]=P},className:`group surface-card p-5 hover:border-primary/30 transition-all relative ${l?"ring-2 ring-primary bg-primary/5":""}`,dir:"ltr",children:[e.jsxs("div",{className:"flex justify-between items-start mb-4",children:[e.jsx("button",{onClick:()=>v(a.urutan-1),className:`size-10 rounded-lg flex items-center justify-center font-bold text-sm transition-all ${l&&w?"bg-primary text-black":"bg-primary/20 text-primary hover:bg-primary/30"}`,children:l&&w?e.jsx("span",{className:"material-symbols-outlined text-lg",children:"pause"}):l?e.jsx("span",{className:"material-symbols-outlined text-lg",children:"play_arrow"}):a.urutan}),e.jsx("div",{className:"font-arabic text-3xl text-primary group-hover:scale-105 transition-transform",children:a.arab})]}),e.jsx("h3",{className:"text-lg font-bold text-white mb-1 group-hover:text-primary transition-colors",children:a.latin}),e.jsx("p",{className:"text-text-secondary text-sm",children:E(a.urutan,a.arti)})]},a.urutan)})}),y.length===0&&e.jsxs("div",{className:"text-center py-16",children:[e.jsx("span",{className:"material-symbols-outlined text-6xl text-text-secondary mb-4",children:"search_off"}),e.jsx("p",{className:"text-text-secondary",children:o("asmaulHusna.noResults")})]}),e.jsx("div",{className:"surface-card p-6 mt-4",children:e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx("span",{className:"material-symbols-outlined text-primary",children:"auto_awesome"}),e.jsxs("div",{children:[e.jsx("h4",{className:"font-semibold mb-2",children:o("asmaulHusna.info.title")}),e.jsxs("ul",{className:"text-text-secondary space-y-1 text-sm",children:[e.jsxs("li",{children:["• ",o("asmaulHusna.info.point1")]}),e.jsxs("li",{children:["• ",o("asmaulHusna.info.point2")]}),e.jsxs("li",{children:["• ",o("asmaulHusna.info.point3")]})]})]})]})})]})}),e.jsx(ue,{show:m&&!b,title:q?`${q.urutan}. ${q.latin}`:"Asmaul Husna",subtitle:(te=K.find(a=>a.id===x))==null?void 0:te.name,icon:"mosque",currentTime:A,duration:B,isPlaying:w,onSeek:T,onTogglePlay:I,onStop:N,onPrev:f,onNext:$,canPrev:s>0,canNext:s<98,playbackSpeed:g,onSpeedChange:O,volume:c,onVolumeChange:U}),e.jsx(xe,{isOpen:b,onClose:()=>D(!1),currentName:q,isPlaying:w,onPrev:f,onNext:$,onTogglePlay:I,getMeaning:E})]})}export{ve as default};
